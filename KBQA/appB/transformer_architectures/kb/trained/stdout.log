2022-01-27 15:20:33,679 - INFO - allennlp.common.params - evaluate_on_test = False
2022-01-27 15:20:33,679 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.dataset_readers.dataset_reader.DatasetReader'> from params {'entity_masking': 'entity_markers/type', 'tokenizer_and_candidate_generator': {'bert_model_type': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt', 'do_lower_case': True, 'entity_candidate_generators': {'wiki': {'type': 'wiki'}, 'wordnet': {'entity_file': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl', 'type': 'wordnet_mention_generator'}}, 'entity_indexers': {'wiki': {'namespace': 'entity_wiki', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}, 'wordnet': {'namespace': 'entity_wordnet', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}}, 'type': 'bert_tokenizer_and_candidate_generator'}, 'type': 'tacred'} and extras set()
2022-01-27 15:20:33,679 - INFO - allennlp.common.params - dataset_reader.type = tacred
2022-01-27 15:20:33,680 - INFO - allennlp.common.from_params - instantiating class <class 'kb.evaluation.tacred_dataset_reader.TacredDatasetReader'> from params {'entity_masking': 'entity_markers/type', 'tokenizer_and_candidate_generator': {'bert_model_type': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt', 'do_lower_case': True, 'entity_candidate_generators': {'wiki': {'type': 'wiki'}, 'wordnet': {'entity_file': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl', 'type': 'wordnet_mention_generator'}}, 'entity_indexers': {'wiki': {'namespace': 'entity_wiki', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}, 'wordnet': {'namespace': 'entity_wordnet', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}}, 'type': 'bert_tokenizer_and_candidate_generator'}} and extras set()
2022-01-27 15:20:33,680 - INFO - allennlp.common.from_params - instantiating class <class 'kb.bert_tokenizer_and_candidate_generator.TokenizerAndCandidateGenerator'> from params {'bert_model_type': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt', 'do_lower_case': True, 'entity_candidate_generators': {'wiki': {'type': 'wiki'}, 'wordnet': {'entity_file': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl', 'type': 'wordnet_mention_generator'}}, 'entity_indexers': {'wiki': {'namespace': 'entity_wiki', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}, 'wordnet': {'namespace': 'entity_wordnet', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}}, 'type': 'bert_tokenizer_and_candidate_generator'} and extras set()
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.type = bert_tokenizer_and_candidate_generator
2022-01-27 15:20:33,680 - INFO - allennlp.common.from_params - instantiating class <class 'kb.bert_tokenizer_and_candidate_generator.BertTokenizerAndCandidateGenerator'> from params {'bert_model_type': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt', 'do_lower_case': True, 'entity_candidate_generators': {'wiki': {'type': 'wiki'}, 'wordnet': {'entity_file': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl', 'type': 'wordnet_mention_generator'}}, 'entity_indexers': {'wiki': {'namespace': 'entity_wiki', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}, 'wordnet': {'namespace': 'entity_wordnet', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'}}} and extras set()
2022-01-27 15:20:33,680 - INFO - allennlp.common.from_params - instantiating class <class 'kb.common.MentionGenerator'> from params {'type': 'wiki'} and extras set()
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wiki.type = wiki
2022-01-27 15:20:33,680 - INFO - allennlp.common.from_params - instantiating class <class 'kb.wiki_linking_util.WikiCandidateMentionGenerator'> from params {} and extras set()
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wiki.candidates_file = None
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wiki.entity_world_path = None
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wiki.lowercase_candidates = True
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wiki.random_candidates = False
2022-01-27 15:20:33,680 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wiki.pickle_cache_file = None
2022-01-27 15:20:36,184 - INFO - allennlp.common.file_utils - https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wiki_entity_linking/prob_yago_crosswikis_wikipedia_p_e_m.txt not found in cache, downloading to /tmp/tmpae2ejk99
2022-01-27 15:30:30,430 - INFO - allennlp.common.file_utils - copying /tmp/tmpae2ejk99 to cache at /home/jmenzel/.allennlp/cache/7daf78d2a19339921371b3bda34738046274072e609ff98f159bbb290ea00448.b0c84d4fa7c769fcd3c5fca57ac7d12329e260960383272dec4f7baf953be7fe
2022-01-27 15:30:31,385 - INFO - allennlp.common.file_utils - creating metadata file for /home/jmenzel/.allennlp/cache/7daf78d2a19339921371b3bda34738046274072e609ff98f159bbb290ea00448.b0c84d4fa7c769fcd3c5fca57ac7d12329e260960383272dec4f7baf953be7fe
2022-01-27 15:30:31,385 - INFO - allennlp.common.file_utils - removing temp file /tmp/tmpae2ejk99
2022-01-27 15:31:48,603 - INFO - allennlp.common.from_params - instantiating class <class 'kb.common.MentionGenerator'> from params {'entity_file': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl', 'type': 'wordnet_mention_generator'} and extras set()
2022-01-27 15:31:48,603 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.type = wordnet_mention_generator
2022-01-27 15:31:48,603 - INFO - allennlp.common.from_params - instantiating class <class 'kb.wordnet.WordNetCandidateMentionGenerator'> from params {'entity_file': 'https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl'} and extras set()
2022-01-27 15:31:48,603 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.entity_file = https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl
2022-01-27 15:31:48,603 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.max_entity_length = 7
2022-01-27 15:31:48,603 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.max_number_candidates = 30
2022-01-27 15:31:48,604 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.count_smoothing = 1
2022-01-27 15:31:48,604 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.use_surface_form = False
2022-01-27 15:31:48,604 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_candidate_generators.wordnet.random_candidates = False
2022-01-27 15:31:49,937 - INFO - allennlp.common.file_utils - https://allennlp.s3-us-west-2.amazonaws.com/knowbert/wordnet/entities.jsonl not found in cache, downloading to /tmp/tmpyrgqutzx
duplicate_mentions_cnt:  6777
end of p_e_m reading. wall time: 0.9003623127937317  minutes
p_e_m_errors:  0
incompatible_ent_ids:  0
2022-01-27 15:32:15,966 - INFO - allennlp.common.file_utils - copying /tmp/tmpyrgqutzx to cache at /home/jmenzel/.allennlp/cache/7523804b41dcc310bf9a3ffe145c69fbcd261593a158fc92bc75bf56b74eff26.24170b914d287594a69c1fefe965787449a8095b1c86bd14155c03206b9a0b45
2022-01-27 15:32:16,026 - INFO - allennlp.common.file_utils - creating metadata file for /home/jmenzel/.allennlp/cache/7523804b41dcc310bf9a3ffe145c69fbcd261593a158fc92bc75bf56b74eff26.24170b914d287594a69c1fefe965787449a8095b1c86bd14155c03206b9a0b45
2022-01-27 15:32:16,026 - INFO - allennlp.common.file_utils - removing temp file /tmp/tmpyrgqutzx
2022-01-27 15:32:17,169 - INFO - allennlp.common.from_params - instantiating class allennlp.data.token_indexers.token_indexer.TokenIndexer from params {'namespace': 'entity_wiki', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'} and extras set()
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.type = characters_tokenizer
2022-01-27 15:32:17,170 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.tokenizer.Tokenizer'> from params {'type': 'word', 'word_splitter': {'type': 'just_spaces'}} and extras set()
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.tokenizer.type = word
2022-01-27 15:32:17,170 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.word_tokenizer.WordTokenizer'> from params {'word_splitter': {'type': 'just_spaces'}} and extras set()
2022-01-27 15:32:17,170 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.word_splitter.WordSplitter'> from params {'type': 'just_spaces'} and extras set()
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.tokenizer.word_splitter.type = just_spaces
2022-01-27 15:32:17,170 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.word_splitter.JustSpacesWordSplitter'> from params {} and extras set()
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.tokenizer.start_tokens = None
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.tokenizer.end_tokens = None
2022-01-27 15:32:17,170 - INFO - allennlp.common.from_params - instantiating class allennlp.data.token_indexers.token_characters_indexer.TokenCharactersIndexer from params {'namespace': 'entity_wiki'} and extras set()
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.namespace = entity_wiki
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.start_tokens = None
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.end_tokens = None
2022-01-27 15:32:17,170 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wiki.min_padding_length = 0
2022-01-27 15:32:17,171 - INFO - allennlp.common.from_params - instantiating class allennlp.data.token_indexers.token_indexer.TokenIndexer from params {'namespace': 'entity_wordnet', 'tokenizer': {'type': 'word', 'word_splitter': {'type': 'just_spaces'}}, 'type': 'characters_tokenizer'} and extras set()
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.type = characters_tokenizer
2022-01-27 15:32:17,171 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.tokenizer.Tokenizer'> from params {'type': 'word', 'word_splitter': {'type': 'just_spaces'}} and extras set()
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.tokenizer.type = word
2022-01-27 15:32:17,171 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.word_tokenizer.WordTokenizer'> from params {'word_splitter': {'type': 'just_spaces'}} and extras set()
2022-01-27 15:32:17,171 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.word_splitter.WordSplitter'> from params {'type': 'just_spaces'} and extras set()
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.tokenizer.word_splitter.type = just_spaces
2022-01-27 15:32:17,171 - INFO - allennlp.common.from_params - instantiating class <class 'allennlp.data.tokenizers.word_splitter.JustSpacesWordSplitter'> from params {} and extras set()
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.tokenizer.start_tokens = None
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.tokenizer.end_tokens = None
2022-01-27 15:32:17,171 - INFO - allennlp.common.from_params - instantiating class allennlp.data.token_indexers.token_characters_indexer.TokenCharactersIndexer from params {'namespace': 'entity_wordnet'} and extras set()
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.namespace = entity_wordnet
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.start_tokens = None
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.end_tokens = None
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.entity_indexers.wordnet.min_padding_length = 0
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.bert_model_type = https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt
2022-01-27 15:32:17,171 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.do_lower_case = True
2022-01-27 15:32:17,172 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.whitespace_tokenize = True
2022-01-27 15:32:17,172 - INFO - allennlp.common.params - dataset_reader.tokenizer_and_candidate_generator.max_word_piece_sequence_length = 512
2022-01-27 15:32:18,093 - INFO - pytorch_pretrained_bert.file_utils - https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt not found in cache, downloading to /tmp/tmpc4_wcxlg
2022-01-27 15:32:20,422 - INFO - pytorch_pretrained_bert.file_utils - copying /tmp/tmpc4_wcxlg to cache at /home/jmenzel/.pytorch_pretrained_bert/28753fad17114e9cc80588002aaf930908f6bec1f03a5264fb5e2105c1bbb774.a62e040e4ac0cc7d3d6df6f397f501a4f5c06270c356dd2e4616bf99f3744382
2022-01-27 15:32:20,422 - INFO - pytorch_pretrained_bert.file_utils - creating metadata file for /home/jmenzel/.pytorch_pretrained_bert/28753fad17114e9cc80588002aaf930908f6bec1f03a5264fb5e2105c1bbb774.a62e040e4ac0cc7d3d6df6f397f501a4f5c06270c356dd2e4616bf99f3744382
2022-01-27 15:32:20,422 - INFO - pytorch_pretrained_bert.file_utils - removing temp file /tmp/tmpc4_wcxlg
2022-01-27 15:32:20,422 - INFO - pytorch_pretrained_bert.tokenization - loading vocabulary file https://allennlp.s3-us-west-2.amazonaws.com/knowbert/models/bert-base-uncased-tacred-entity-markers-vocab.txt from cache at /home/jmenzel/.pytorch_pretrained_bert/28753fad17114e9cc80588002aaf930908f6bec1f03a5264fb5e2105c1bbb774.a62e040e4ac0cc7d3d6df6f397f501a4f5c06270c356dd2e4616bf99f3744382
2022-01-27 15:32:20,440 - INFO - allennlp.common.params - dataset_reader.entity_masking = entity_markers/type
2022-01-27 15:32:20,440 - INFO - allennlp.common.params - dataset_reader.lazy = False
2022-01-27 15:32:20,440 - INFO - allennlp.common.params - validation_dataset_reader = None
2022-01-27 15:32:20,440 - INFO - allennlp.common.params - train_data_path = /home/matthewp/data/tacred/train.json
2022-01-27 15:32:20,440 - INFO - allennlp.training.util - Reading training data from /home/matthewp/data/tacred/train.json
